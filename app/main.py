import uvicorn

from dotenv import load_dotenv
from fastapi import FastAPI
from time import sleep


load_dotenv()


from app.routers import routers

app = FastAPI(docs_url="/docs", debug=True)

for router in routers:
    app.include_router(router)

if __name__ == "__main__":
    try:
        print(
            """\n
   █████████  ████                          ██████   ██████                                                                 █████████   ███████████  █████
  ███░░░░░███░░███                         ░░██████ ██████                                                                 ███░░░░░███ ░░███░░░░░███░░███ 
 ███     ░░░  ░███   ██████   ████████      ░███░█████░███   ██████   ████████    ██████    ███████  ██████  ████████     ░███    ░███  ░███    ░███ ░███ 
░███          ░███  ░░░░░███ ░░███░░███     ░███░░███ ░███  ░░░░░███ ░░███░░███  ░░░░░███  ███░░███ ███░░███░░███░░███    ░███████████  ░██████████  ░███ 
░███          ░███   ███████  ░███ ░███     ░███ ░░░  ░███   ███████  ░███ ░███   ███████ ░███ ░███░███████  ░███ ░░░     ░███░░░░░███  ░███░░░░░░   ░███ 
░░███     ███ ░███  ███░░███  ░███ ░███     ░███      ░███  ███░░███  ░███ ░███  ███░░███ ░███ ░███░███░░░   ░███         ░███    ░███  ░███         ░███ 
 ░░█████████  █████░░████████ ████ █████    █████     █████░░████████ ████ █████░░████████░░███████░░██████  █████        █████   █████ █████        █████
  ░░░░░░░░░  ░░░░░  ░░░░░░░░ ░░░░ ░░░░░    ░░░░░     ░░░░░  ░░░░░░░░ ░░░░ ░░░░░  ░░░░░░░░  ░░░░░███ ░░░░░░  ░░░░░        ░░░░░   ░░░░░ ░░░░░        ░░░░░ 
                                                                                           ███ ░███                                                       
                                                                                          ░░██████                                                        
                                                                                           ░░░░░░                                                         
            \n"""
        )

        sleep(0.2)
        uvicorn.run("main:app", host="127.0.0.1", port=8000, reload=True)

    except Exception as e:
        print(f"❌ FastAPI start filed: {e}")
